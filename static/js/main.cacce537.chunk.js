(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{54:function(t,e,n){},59:function(t,e,n){var r={"./bassWarwick.mp3":60,"./electricGuitar.mp3":61,"./funkBeats.mp3":62,"./mazePolitics.mp3":63,"./pas3groove.mp3":64,"./silentStar.mp3":65,"./stompySlosh.mp3":66,"./stutterBreakbeats.mp3":67,"./tanggu.mp3":68};function c(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}c.keys=function(){return Object.keys(r)},c.resolve=a,t.exports=c,c.id=59},60:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/bassWarwick.52c24c81.mp3"},61:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/electricGuitar.230fcab8.mp3"},62:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/funkBeats.5eb417fc.mp3"},63:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/mazePolitics.2d08c654.mp3"},64:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/pas3groove.f77c6da4.mp3"},65:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/silentStar.f2d668af.mp3"},66:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/stompySlosh.27bdc145.mp3"},67:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/stutterBreakbeats.37c82282.mp3"},68:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/tanggu.3e1411b4.mp3"},74:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(20),i=n.n(a),o=(n(54),n(45)),u=n(4),s=n(5),l=n.n(s),p=n(13),f=n(47),d=n(35),b=n(11),j={stopLoop:function(t){return m(),t.map((function(t){t.isPlay&&(t.isPlay=!1)})),t},startLoop:function(t){t.forEach((function(t){var e=t.url,r=n(59)("./".concat(e,".mp3")).default,c=new Audio(r);c.play(),O.push(c)}))},updateLoop:function(t,e){if(e.isPlay)t.push(e);else{var n=t.findIndex((function(t){return t.name===e.name}));t.splice(n,1)}return t},saveRecording:function(t){var e="recording",n=v(e);if(!n)return void h(e,[t]);n.push(t),h(e,n)},getRecording:function(){return v("recording")}},O=[];function m(){O.forEach((function(t){t.pause()}))}function h(t,e){var n=JSON.stringify(e);localStorage.setItem(t,n)}function v(t){var e=localStorage.getItem(t);return JSON.parse(e)}function S(t){return function(){var e=Object(p.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.startLoop(t),!1,n({type:"SET_IS_STOP",isStop:false});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var y=n(43),g=n.n(y),x=n(44),E=n.n(x),k=n(89),w=n(2),_=function(){var t=Object(b.b)(),e=Object(r.useState)(null),n=Object(d.a)(e,2),c=n[0],a=n[1],i=Object(r.useState)([]),o=Object(d.a)(i,2),u=o[0],s=o[1],O=Object(r.useState)(null),m=Object(d.a)(O,2),h=m[0],v=m[1],y=Object(b.c)((function(t){return t.looperModule})).pads,x=Object(b.c)((function(t){return t.looperModule})).loopPlaying,_=Object(b.c)((function(t){return t.looperModule})).isStop,P=Object(b.c)((function(t){return t.looperModule})).isRecording,R=Object(r.useRef)(),T=Object(r.useRef)(),C=function(){var e;t((e=x,function(){var t=Object(p.a)(l.a.mark((function t(n,r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r().looperModule.isRecording&&j.saveRecording(e);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()))},I=function(){var e=Object(p.a)(l.a.mark((function e(){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(function(){var t=Object(p.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",j.getRecording());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:if(n=e.sent,_&&n){e.next=5;break}return e.abrupt("return",L("There is a problem with the recording at the moment"));case 5:r=0,c=setInterval(function e(){if(r!==n.length)return t(S(n[r])),r++,e;clearInterval(c)}(),8e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(t){v(t),setTimeout((function(){v(null)}),3e3)};return Object(w.jsxs)("div",{className:"app-header",children:[Object(w.jsxs)("section",{className:"icons",children:[Object(w.jsx)(g.a,{onClick:function(){if(!x.length||!_)return L("There is a problem with the audio at the moment");R.current.style.color="#d400d4";var e=setInterval(function e(){return t(S(x)),C(),u.length?s((function(t){return[].concat(Object(f.a)(t),[x])})):s([x]),e}(),8e3);a(e)},ref:R}),Object(w.jsx)(E.a,{onClick:function(){if(_)return console.log("msg");var e;R.current.style.color="white",clearInterval(c),t((e=y,function(){var t=Object(p.a)(l.a.mark((function t(n){var r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=j.stopLoop(e),c=[],n({type:"SET_SAVE_CHANGES",pads:r}),n({type:"SET_CLEAR_LOOP",emptyArr:c}),n({type:"SET_IS_STOP",isStop:!0}),n({type:"SET_IS_RECORDING",isRecording:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},ref:T})]}),Object(w.jsxs)("section",{children:[Object(w.jsxs)(k.a,{onClick:function(){var e;t((e=P,function(){var t=Object(p.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=!e)&&localStorage.clear(),n({type:"SET_IS_RECORDING",isRecording:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},variant:"outlined",color:P?"secondary":"primary",children:[P?"Stop":"Start"," recording"]}),Object(w.jsx)(k.a,{onClick:I,variant:"outlined",color:"primary",children:"Play Record"})]}),h&&Object(w.jsx)("article",{className:"err-msg",children:h})]})},P=function(t){var e=t.pad,n=Object(r.useRef)(),c=function(){var t=Object(p.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:"#3e486c","#0026e2cc",r="",r=e.isPlay?"#0026e2cc":"#3e486c",n.current.style.backgroundColor=r;case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(w.jsx)("div",{children:Object(w.jsxs)("button",{onClick:c,children:[Object(w.jsx)("span",{children:e.name.toUpperCase()}),Object(w.jsx)("div",{ref:n,className:"wave"})]})})},R=function(){var t=Object(b.c)((function(t){return t.looperModule})).pads,e=Object(b.c)((function(t){return t.looperModule})).loopPlaying,n=Object(b.c)((function(t){return t.looperModule})).isStop,c=Object(b.b)(),a=Object(r.useRef)();Object(r.useEffect)((function(){n&&o()}),[n]);var i=function(n){n.isPlay=!n.isPlay,c(function(t,e){return function(){var n=Object(p.a)(l.a.mark((function n(r){var c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=j.updateLoop(t,e),r({type:"SET_SAVE_LOOP",updateLoop:c});case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n)),c(function(t){return function(){var e=Object(p.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"SET_SAVE_CHANGES",pads:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))},o=function(){for(var t=a.current.children,e=0;e<t.length;e++)t[e].children[0].children[0].lastChild.style.backgroundColor="#3e486c"};return Object(w.jsx)("div",{className:"box",children:Object(w.jsx)("div",{className:"container",children:t&&Object(w.jsx)("ul",{ref:a,children:t.map((function(t,e){return Object(w.jsx)("li",{onClick:function(){return i(t)},children:Object(w.jsx)(P,{pad:t})},e)}))})})})},T=function(){return Object(w.jsxs)(o.a,{children:[Object(w.jsx)(_,{}),Object(w.jsx)("main",{children:Object(w.jsx)(u.c,{children:Object(w.jsx)(u.a,{path:"/",component:R})})})]})},C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))},I=n(30),L=n(46),N=n(17),A={isStop:!0,isRecording:!1,loopPlaying:[],pads:[{isPlay:!1,name:"Bass warwick (heavy Funk)",url:"bassWarwick"},{isPlay:!1,name:"Electric guitar",url:"electricGuitar"},{isPlay:!1,name:"Funk beats",url:"funkBeats"},{isPlay:!1,name:"Maze politics",url:"mazePolitics"},{isPlay:!1,name:"Groove",url:"pas3groove"},{isPlay:!1,name:"Silent star",url:"silentStar"},{isPlay:!1,name:"Stompy slosh",url:"stompySlosh"},{isPlay:!1,name:"Stutter breakbeats",url:"stutterBreakbeats"},{isPlay:!1,name:"Tanggu",url:"tanggu"}]};var M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.c,G=Object(I.b)({looperModule:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_SAVE_CHANGES":return Object(N.a)(Object(N.a)({},t),{},{pads:e.pads});case"SET_SAVE_LOOP":return Object(N.a)(Object(N.a)({},t),{},{pads:e.updateLoop});case"SET_CLEAR_LOOP":return Object(N.a)(Object(N.a)({},t),{},{loopPlaying:e.emptyArr});case"SET_IS_STOP":return Object(N.a)(Object(N.a)({},t),{},{isStop:e.isStop});case"SET_IS_RECORDING":return Object(N.a)(Object(N.a)({},t),{},{isRecording:e.isRecording});default:return t}}}),B=Object(I.d)(G,M(Object(I.a)(L.a)));i.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(b.a,{store:B,children:Object(w.jsx)(T,{})})}),document.getElementById("root")),C()}},[[74,1,2]]]);
//# sourceMappingURL=main.cacce537.chunk.js.map